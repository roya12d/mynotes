(function(){var n="0.1.34",t,a="undefined",e=25,r=parseInt(1e3/e),o=t,i={"function":!0,object:!0},s={DEBUG_MODE:!1,counterID:"515",instanceID:"externalConf###Instanceid"},c=function(n){return typeof n!==a},u="HISTATS_CANVAS_DEBUG_ON";s.DEBUG_MODE=c(window[u])&&1==window[u];var f=function(){return s.instanceID},d="_HistatsCounterGraphics_",l,h=function(){return d+s.counterID},v=function(n){return!("string"!=typeof n||""==n)},b=function(){try{s.DEBUG_MODE&&c(console)&&console.log.apply(this,arguments)}catch(n){}},m=function(a,e){var i=a||{};try{var u=function(n){var t="autostart";return"undefined"!=typeof n[t]&&n[t]===!0},f={ANIMATION_RUNNING_STATUS:!0,ANIMATION_STARTED:!1,AUTOSTART:u(i),_STOPPED:!1,INSTANCE_ID:"-"+parseInt(1e4*Math.random())},d=function(){return f.INSTANCE_ID},v=100,m=1,p=function(){return e.document},g=function(n){return c(n)&&!!p().getElementById(n)},A=function(n){o=e.setTimeout(n,r)},w=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||A,C=e["Date"]||{},T=function(n,t){for(var a in n)t.hasOwnProperty(a)&&(t[a]=n[a])};i.getInstanceID=d;var S=h();i.IS_HISTATS_CANVAS=!0,i.globalObjectName=S,i.$window=e;var I=function(n){return g(n)?p().getElementById(n):t},O={w:0,h:0,yBase:0,xBase:0,hasShadow:!1,hasLabel:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:1,doMouseOverOut:1},y={msLastFrameDrawn:0,msPerFrame:r,frameCounter:0,isInAnimationTransition:!1,animation_duration_inFrames:20,waitframesBetweenTwoAnimations:80,framesBetweenTwoAnimations:100,currentLoopFrame:0,autoTriggerTextChange_onFrame:t,customization:{}},x={domCanvasObject:null,canvas2dContext:null,canvasProperties:O},P=function(){var n={},a=n.hasOwnProperty,e=0,r=0,o={blockMessages:!1,recordMessages:!1,messageLog:[],printMessages:!1,messagePassedCount:0,subscribersCount:0,topicsCount:0,_topics:n},i=function(t){return a.call(n,t)},s=function(t){return o.printMessages&&console.log(d(),"addTopic",t),r++,o.topicsCount++,r>50&&b(d(),"Lot of topics registered!",t),n[t]=[]},c=function(t){return n[t]},u=function(t,a,r){o.printMessages&&console.log(d(),"subscribe",t,a,r),o.recordMessages&&o.messageLog.push(["subscribe",t,a,r]),r=r||v,i(t)||s(t);var u=c(t).push({callback:a,priority:a})-1;return e++,o.subscribersCount++,e>50&&b(d(),"Lot of topics registered!",t),{remove:function(){delete n[t][u]}}},f=function(n,t){var a="no-topic-found";n!=a&&l(a,{topic:n,info:t})},l=function(a,e){return o.messagePassedCount++,o.printMessages&&console.log(d(),"publish",a,e),o.recordMessages&&o.messageLog.push(["publish",a,e]),o.blockMessages?void 0:i(a)?(n[a].slice().sort(function(n,t){return n.priority-t.priority}).forEach(function(n){n.callback(e!=t?e:{})}),void 0):(f(a,e),void 0)},h=function(n,t){w(function(){l(n,t)})};return{subscribe:u,publish:l,publishAsync:h,debugObj:o}}(),N=function(){return s.counterID},F=function(){var n="siteId";return i[n]=i[n]||0},_=function(){var n="main_div_name";return i[n]||"histats_counter_"+F()+"_"+N()},k=[],B=function(){return l=_(),l},D=function(){return B()+"_canvas"},R=function(){return"http://www.histats.com/viewstats/?sid="+F()+"&ccid="+N()},E=function(){e.location=R()},L=function(){if(1==x.canvasProperties.doMouseOverOut){var n=Q().canvasProperties;n.yBase=2,n.xBase=2,n.shadowOffsetX=0,n.shadowOffsetY=0}Q().domCanvasObject.style.cursor="pointer"},U=function(){if(1==x.canvasProperties.doMouseOverOut){var n=Q().canvasProperties;n.yBase=0,n.xBase=0,n.shadowOffsetX=2,n.shadowOffsetY=2}},j=function(){var n=Q(),t=n.canvasProperties,a=n.canvas2dContext;a.shadowOffsetX=t.shadowOffsetX,a.shadowOffsetY=t.shadowOffsetY,a.shadowBlur=t.shadowBlur,a.shadowColor="rgba(0,0,0,0.2)"},X=function(){return I(B())},M=function(){var n=!!X();return n},V=function(){try{if(!M())return P.publish("error",{msg:"validateDomcontainer not found"}),void 0;var n=X(),t=Q().canvasProperties,a='<canvas id="'+D()+'" width="'+t.w+'" height="'+t.h+'" ></canvas>',r='<a href="'+R()+'" target="_blank">'+a+"</a>";n.innerHTML=r,Q().domCanvasObject=I(D());var o=Q().domCanvasObject;Q().canvas2dContext=o.getContext("2d"),"addEventListener"in e?(o.addEventListener("mouseover",function(){L()}),o.addEventListener("mouseout",function(){U()})):o.onclick=function(){E()}}catch(i){b(d(),"drawCanvas",i)}},Y=function(){try{if(f.ANIMATION_STARTED)return;if(f._STOPPED)return;P.publish("draw-callback-requested-reconfiguration",{}),P.publish("starting_pre",{context:i}),f.ANIMATION_STARTED=!0,P.publish("started",{context:i}),P.publish("drawcanvas_pre",{context:i}),V(),P.publish("drawcanvas_post",{context:i}),K(),P.publish("animationLoop_started",{context:i})}catch(n){b(d(),"startNow",n,n.message)}},q=function(n,t,a){t.addEventListener?t.addEventListener(n,a,!1):t.attachEvent?t.attachEvent("on"+n,a):t[n]=a},G=function(){try{P.publish("appendedStart",{context:i,type:"animFrame"}),w(Y)}catch(n){b(d(),"startAsap",n.message,n)}},H=function(n,t){k.push({name:n,callback:t})},z=function(){},W=function(){k.forEach(function(n){n.callback(i.getCanvas2dContext(),y,Q())})},J=function(){c(o)&&e.clearTimeout(o)},K=function(){f._STOPPED||w(function(){tn(W),f.ANIMATION_RUNNING_STATUS&&K()})};P.subscribe("setAnimationProperties",function(n){T(n,y)}),P.subscribe("draw-callback-publish-reconfiguration",function(n){try{n.canvasCallbacks.forEach(function(n){k.push({name:n.name,callback:n.cb,priority:n.priority})}),k=k.slice().sort(function(n,t){return n.priority-t.priority})}catch(t){b(d(),"animationLoop",t.message,t)}}),P.subscribe("configuration-changed",function(n){k=[],P.publish("draw-callback-requested-reconfiguration",{})});var Z=function(n){var t=n!=f.ANIMATION_RUNNING_STATUS;return t&&(0==f.ANIMATION_RUNNING_STATUS&&1==n,1==f.ANIMATION_RUNNING_STATUS&&0==n&&J(),f.ANIMATION_RUNNING_STATUS=n),t},Q=function(){return x},$=function(){var n=!1;0==y.frameCounter&&P.publish("FIRST-FRAME",{});var t=C.now(),a=t-y.msLastFrameDrawn;if(a>y.msPerFrame){var e=a%y.msPerFrame;y.msLastFrameDrawn=t-e,n=!0}return n},nn=function(){if(!(y.animation_duration_inFrames<1)){var n=y.animation_duration_inFrames+y.waitframesBetweenTwoAnimations;y.currentLoopFrame=y.frameCounter%n;var t=0==y.currentLoopFrame,a=y.currentLoopFrame>=y.animation_duration_inFrames;t&&(y.isInAnimationTransition=!0,P.publish("drawing-triggered-animation-start",y)),a&&y.isInAnimationTransition&&(y.isInAnimationTransition=!1,P.publish("drawing-triggered-animation-end",y))}},tn=function(n){var t=$();t&&(y.frameCounter++,nn(),n())},an=function(n){return n(i.getCanvas2dContext())},en=function(){var n=17,t=2,a=1,e=Q().canvasProperties,r=0;e.hasShadow&&(r=r+t+a),e.hasLabel&&(e.h=e.h+n),e.w=e.w+r,e.h=e.h+r},rn=function(n){T(n,Q().canvasProperties),en()};P.subscribe("setCanvasProperties",rn,10);var on=function(){i.onCanvas2dContext(function(n){var t=Q().canvasProperties;n.clearRect(0,0,t.w,t.h),t.hasShadow&&j()})};P.subscribe("clear-canvas-rectangle",on,10);var sn=function(n,t){Q().hasShadow&&(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowColor="transparent")},cn=function(n,a){a.autoTriggerTextChange_onFrame!==t&&a.currentLoopFrame==a.autoTriggerTextChange_onFrame&&P.publish("drawing-change-text",{})},un=function(n){P.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:sn,priority:14,name:"stopApplyingShadowOnCanvas"},{cb:cn,priority:5,name:"autoUpdateText"}]})};P.subscribe("draw-callback-requested-reconfiguration",un,15),i.__CODE_VERSION=n,i.getCanvasObject=Q,i.getCanvas2dContext=function(){return Q().canvas2dContext},i.onCanvas2dContext=an,i.getXYCanvas=function(){return{x:Q().canvasProperties.xBase,y:Q().canvasProperties.yBase}},i.addDrawCallback=H,i.getCanvasProperties=function(){return Q().canvasProperties},i.setCanvasProperties=function(n){for(var t in n)n.hasOwnProperty(t)&&(x.canvasProperties[t]=n[t])},i.updateCanvasProperties=function(n){i.setCanvasProperties(n(Q().canvasProperties))},i.getAnimationFrames=function(){return y.frameCounter},i.getAnimationControl=function(){return y},i.setAnimationControl=function(n){for(var t in n)n.hasOwnProperty(t)&&(y[t]=n[t])},i.start=G,i.changeRunningStatus=Z,i.getRunningStatus=function(){return f.ANIMATION_RUNNING_STATUS},i.eventBus=P,i.getDebugMode=function(){return s.DEBUG_MODE},function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.bars={},a=!1,e=3,r=1,o=0,i=[2,5,10];n.eventBus.subscribe("set-bars-params",function(t){f(t),n.eventBus.publish("configuration-changed",{})});var s=[],c={xBase:5,yBase:13,hMin:2,hMax:10,w:4,barsColours:[["#3e8bfd","#2572e4"],["#feb23f","#dc901d"],["#d83f3f","#b41b1b"]],parent:n},u=function(){return c},f=function(n){for(var t in n)n.hasOwnProperty(t)&&(c[t]=n[t])},d=function(n){a=!0;for(var t=0;e>t;t++)n.push({x:t*(c.w+1),y:0,width:c.w,height:i[t],animateDirection:r,gradient:null,gradientStart:c.barsColours[t][0],gradientEnd:c.barsColours[t][1]})},l=function(t){var a=.5,e=t.height,i=n.getXYCanvas();t.animateDirection==r&&e>=c.hMax?t.animateDirection=o:t.animateDirection==o&&e<=c.hMin&&(t.animateDirection=r),e+=a*(t.animateDirection==r?1:-1),t.y=c.yBase-e+i.y,t.height=e},h=function(t){return function(a){var e=n.getXYCanvas();a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.beginPath(),a.fillStyle=m(t,a),a.fillRect(e.x+c.xBase+t.x,t.y,t.width,t.height)}},v=function(t){n.eventBus.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:b,priority:20,name:"bars_draw"}]})};n.eventBus.subscribe("draw-callback-requested-reconfiguration",v,11);var b=function(){a||d(s);for(var t in s)if(s.hasOwnProperty(t)){var e=s[t];l(e),n.onCanvas2dContext(h(e))}},m=function(t,a){var e=n.getXYCanvas(),r=c.xBase,o=a.createLinearGradient(r+t.x+e.x,t.y,r+t.x+t.width,t.height+t.y);return o.addColorStop(0,t.gradientStart),o.addColorStop(1,t.gradientEnd),o};t.getBoxProperties=u,t.setBoxProperties=f,t.transformBarsColour=function(n){barsColours=n(c.barsColours)},t.draw=b}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.effectLightLine={},a=function(n,t){e.colorStops.push({position:n,colour:t})},e={x:0,y:0,width:0,height:0,colorStops:[]},r=function(n){var t=n.createLinearGradient(e.x,e.y,e.x+e.width,e.y);e.colorStops.forEach(function(n){t.addColorStop(n.position,n.colour)}),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height)};t.addColorStop=a,t.draw=r,t.getProperties=function(){return e},t.setProperties=function(n,t,a,r){e.x=n,e.y=t,e.width=a,e.height=r}}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var a={main:"",source:t,loaded:!1};a.main="data:image/png;base64,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";var e=function(t){var e=a.source=new Image;e.onload=function(){a.loaded=!0,n.eventBus.publish("background-image-loaded",a),n.eventBus.publish("configuration-changed",{})},e.src=a.main};n.eventBus.subscribe("FIRST-FRAME",e,5),n.image_base64_src=a}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var a=n.counter={};a.ID="515",a.properties={w:95,h:18,hasShadow:!0};var e=!1,r={backgroundImageObject:t},o={xBase:5,yBase:15,barsColours:[["#8ab9fd","#117ae3"],["#fec745","#eb8a26"],["#76fd1c","#3db31c"]]},i={animation_duration_inFrames:20,autoTriggerTextChange_onFrame:10,waitframesBetweenTwoAnimations:110};n.eventBus.publish("setCanvasProperties",a.properties),n.eventBus.publish("setAnimationProperties",i),n.eventBus.publish("set-bars-params",o);var s={light:{x:0,y:0,w:10,h:16,movementsPerFrame:1,xStart:0,xEnd:85}},c=function(n){var t=s;t.light.movementsPerFrame=(s.light.xEnd-s.light.xStart)/i.animation_duration_inFrames};c(i.animation_duration_inFrames);var u=function(t){var a=s,e=n.getXYCanvas();a.light.x+=a.light.movementsPerFrame;var r=t.createLinearGradient(e.x+a.light.x,e.y+a.light.y,e.x+a.light.x+a.light.w,e.y+a.light.y);r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(.5,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=r,t.fillRect(e.x+a.light.x,e.y+a.light.y,a.light.w,a.light.h)},f=function(t,a){n.eventBus.publish("clear-canvas-rectangle",{});var e=n.getXYCanvas();t.drawImage(r.backgroundImageObject.source,e.x,e.y)},d=function(n,t){var a=s;t.isInAnimationTransition?u(n):a.light.x=a.light.xStart},l=function(a){r.backgroundImageObject!=t&&n.eventBus.publish("draw-callback-publish-reconfiguration",{canvasCallbacks:[{cb:f,priority:10,name:"drawBackground"},{cb:d,priority:17,name:"executeAnimationTransition"}]})};return n.eventBus.subscribe("draw-callback-requested-reconfiguration",l,13),n.eventBus.subscribe("background-image-loaded",function(n){r.backgroundImageObject=n},13),n}.call(i),f.AUTOSTART&&i.start()}catch(fn){}return i},p="base.js",g=window,A="_DEBUG_HISTATSCANVAS_RETURN_BUILDER";_value_RETURN_BUILDER=c(window[A])&&window[A]===!0,window[h()]=m,window["histats_canvascounters_"+p]=m}).call(this);